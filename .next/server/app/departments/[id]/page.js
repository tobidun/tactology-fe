(()=>{var e={};e.id=814,e.ids=[814],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1284:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>p,routeModule:()=>x,tree:()=>c});var i=a(3137),r=a(4647),s=a(4183),n=a.n(s),l=a(1775),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=i.AppPageRouteModule,c=["",{children:["departments",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5208)),"/Users/hellosauri/Projects/tactology-fe/app/departments/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,6386)),"/Users/hellosauri/Projects/tactology-fe/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,1918,23)),"next/dist/client/components/not-found-error"]}],p=["/Users/hellosauri/Projects/tactology-fe/app/departments/[id]/page.tsx"],m="/departments/[id]/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new d({definition:{kind:r.x.APP_PAGE,page:"/departments/[id]/page",pathname:"/departments/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2433:(e,t,a)=>{Promise.resolve().then(a.bind(a,5095))},5095:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var i=a(80),r=a(7114),s=a(5325),n=a(7271),l=a(7052),o=a(6670),d=a(8384),c=a(2653),p=a(7686),m=a(4409),u=a(3482),x=a(9494),h=a(9803),y=a(9885),f=a(6206);function b({children:e,isOpen:t,onClose:a,className:r}){return(0,y.useEffect)(()=>(t?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[t]),(0,y.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&a()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[a]),i.jsx(p.M,{children:t&&i.jsx(c.E.div,{className:"fixed left-0 top-0 z-50 flex h-full w-full items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&a()},children:(0,i.jsxs)(c.E.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:`relative overflow-y-auto rounded bg-white p-2 ${r}`,children:[e,i.jsx("button",{className:"absolute right-0 top-0 bg-transparent p-2 font-[900] text-black z-[20]",onClick:a,children:i.jsx(f.Z,{size:24})})]})})})}var g=a(9424),j=a(3478),w=a(6303),v=a(2385),N=a(5924);function E({initialData:e,id:t,onClose:a}){let[r,o]=(0,y.useState)(e.name||""),[m,x]=(0,y.useState)(e.subDepartments||[{name:""}]),[h,{loading:f}]=(0,s.useMutation)(n.aZ,{refetchQueries:[{query:n.mG}]}),b=(e,t)=>{let a=m.map((a,i)=>i===e?{...a,name:t}:a);x(a)},E=e=>{let t=m.filter((t,a)=>a!==e);x(t)},k=async e=>{e.preventDefault(),console.log("it is working o");let i=localStorage.getItem("authToken");if(!i){console.error("User is not authenticated");return}try{let e=m.map(e=>({id:e.id,name:e.name}));await h({variables:{input:{id:t,name:r,subDepartments:e}},context:{headers:{Authorization:`Bearer ${i}`}}}),a()}catch(e){console.error("Error editiing department:",e)}};return(0,i.jsxs)("div",{className:"flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 overflow-hidden relative",children:[i.jsx(c.E.div,{className:"absolute inset-0 z-0",initial:{opacity:0},animate:{opacity:1},transition:{duration:2},children:[...Array(20)].map((e,t)=>i.jsx(c.E.div,{className:"absolute rounded-full bg-white opacity-10",style:{width:100*Math.random()+50,height:100*Math.random()+50,top:`${100*Math.random()}%`,left:`${100*Math.random()}%`},animate:{y:[0,100*Math.random()-50],x:[0,100*Math.random()-50]},transition:{duration:10*Math.random()+10,repeat:1/0,repeatType:"reverse"}},t))}),i.jsx("div",{className:"w-full relative z-10",children:i.jsx(c.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:(0,i.jsxs)(l.Zb,{className:"bg-white/10 backdrop-blur-md overflow-hidden border-none",children:[(0,i.jsxs)(c.E.div,{className:"flex items-center space-x-4 p-6 bg-gradient-to-r from-purple-500 to-pink-500",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},children:[i.jsx(u.Z,{className:"h-10 w-10 text-yellow-300"}),i.jsx("div",{children:i.jsx("h2",{className:"text-3xl font-bold text-white",children:"Edit Department"})})]}),(0,i.jsxs)("form",{onSubmit:k,children:[(0,i.jsxs)(l.aY,{className:"space-y-6 p-6",children:[(0,i.jsxs)(c.E.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsx(j._,{htmlFor:"name",className:"text-lg font-semibold text-white",children:"Department Name"}),i.jsx(g.I,{id:"name",placeholder:"e.g., IT Department",value:r,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 bg-white/20 border-2 border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300",required:!0})]}),i.jsx(p.M,{children:m?.map((e,t)=>i.jsx(c.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"space-y-4",children:i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{className:"w-full",children:[i.jsxs(j._,{htmlFor:`subDepartment${t}`,className:"text-lg font-semibold text-white",children:["SubDepartment ",t+1]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(g.I,{id:`subDepartment${t}`,placeholder:`e.g., SubDepartment ${t+1}`,value:e.name,onChange:e=>b(t,e.target.value),className:"w-full px-4 py-3 bg-white/20 border-2 border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300",required:!0}),i.jsx(d.z,{type:"button",onClick:()=>E(t),className:"p-3 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-red-400",children:i.jsx(w.Z,{className:"h-5 w-5"})})]})]})})},t))}),i.jsx(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:(0,i.jsxs)(d.z,{type:"button",onClick:()=>{x([...m,{name:""}])},className:"w-full py-3 bg-yellow-400 text-purple-900 rounded-xl hover:bg-yellow-300 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 flex items-center justify-center space-x-2",children:[i.jsx(v.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Add SubDepartment"})]})})]}),(0,i.jsxs)(l.eW,{className:"flex justify-end space-x-4 p-6 bg-gradient-to-r from-purple-500 to-pink-500",children:[i.jsx(d.z,{type:"button",variant:"outline",className:"px-6 py-3 text-black border-2 border-white/50 rounded-xl hover:bg-white/20 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white",children:"Cancel"}),i.jsx(d.z,{type:"submit",className:"px-6 py-3 bg-yellow-400 text-purple-900 rounded-xl hover:bg-yellow-300 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 flex items-center space-x-2",disabled:f,children:f?i.jsx("div",{className:"animate-spin h-5 w-5 border-4 border-t-4 border-purple-900 rounded-full"}):(0,i.jsxs)(i.Fragment,{children:[i.jsx("span",{children:"Save Changes"}),i.jsx(N.Z,{className:"h-5 w-5"})]})})]})]})]})})})]})}function k({id:e}){let t=(0,r.useRouter)(),[a,f]=(0,y.useState)(!1),{data:g,loading:j,error:w}=(0,s.useQuery)(n.mG,{variables:{id:Number(e)}}),v=g?.department;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 text-white p-8 overflow-hidden relative",children:[i.jsx(c.E.div,{className:"absolute inset-0 z-0",initial:{opacity:0},animate:{opacity:1},transition:{duration:2},children:[...Array(20)].map((e,t)=>i.jsx(c.E.div,{className:"absolute rounded-full bg-white opacity-10",style:{width:100*Math.random()+50,height:100*Math.random()+50,top:`${100*Math.random()}%`,left:`${100*Math.random()}%`},animate:{y:[0,100*Math.random()-50],x:[0,100*Math.random()-50]},transition:{duration:10*Math.random()+10,repeat:1/0,repeatType:"reverse"}},t))}),i.jsx("div",{className:"max-w-4xl mx-auto space-y-6 relative z-10",children:i.jsx(p.M,{mode:"wait",children:j?i.jsx(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center h-64",children:i.jsx(o.g,{})},"loading"):w?(0,i.jsxs)(c.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.5},className:"bg-red-500/80 backdrop-blur-md rounded-3xl p-6 text-white flex items-center space-x-4",children:[i.jsx(m.Z,{className:"w-8 h-8"}),(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:"Error"}),i.jsx("p",{children:"Unable to load department details. Please try again later."})]})]},"error"):i.jsx(c.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,i.jsxs)(l.Zb,{className:"rounded-3xl shadow-2xl h-[90dvh] bg-white/10 backdrop-blur-md border border-white/20 overflow-hidden",children:[(0,i.jsxs)(c.E.div,{className:"flex flex-col md:flex-row items-center justify-between p-6 bg-gradient-to-r from-purple-500 to-pink-500",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[i.jsx(u.Z,{className:"h-10 w-10 text-yellow-300"}),i.jsx("h2",{className:"text-4xl font-bold text-white",children:v?.name})]}),(0,i.jsxs)(d.z,{onClick:()=>f(!0),className:"bg-yellow-400 hover:bg-yellow-300 text-purple-900 font-semibold py-2 px-6 rounded-full transition-all duration-300 transform hover:scale-105 flex items-center space-x-2",children:[i.jsx(x.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Edit Department"})]})]}),i.jsx(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:(0,i.jsxs)(l.aY,{className:"p-6",children:[i.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"SubDepartments"}),i.jsx("ul",{className:"space-y-2",children:i.jsx(p.M,{children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:v?.subDepartments.map((e,t)=>i.jsxs(c.E.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:.1*t},className:"bg-white/20 rounded-lg p-8 text-white flex items-center space-x-3",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),i.jsx("span",{children:e.name})]},t))})})})]})}),(0,i.jsxs)(d.z,{onClick:()=>t.push("/departments"),className:"absolute bottom-4 right-4 bg-white/10 hover:bg-white/20 text-white font-semibold py-2 px-6 rounded-full transition-all duration-300 flex items-center space-x-2 border border-white/50",children:[i.jsx(h.Z,{className:"h-5 w-5"}),i.jsx("span",{children:"Back to Departments"})]})]})},"content")})})]}),i.jsx(b,{className:"!w-[500px] !p-0",isOpen:a,onClose:()=>f(!1),children:i.jsx(E,{id:Number(e),initialData:v,onClose:()=>f(!1)})})]})}},6670:(e,t,a)=>{"use strict";a.d(t,{g:()=>r});var i=a(80);function r(){return i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}},5208:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var i=a(8144),r=a(7536);let s=(0,r.createProxy)(String.raw`/Users/hellosauri/Projects/tactology-fe/app/departments/components/department-details.tsx`),{__esModule:n,$$typeof:l}=s,o=s.default;function d({params:e}){return i.jsx(o,{id:e.id})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),i=t.X(0,[415,653,785,199,773,97,384,52,65,271],()=>a(1284));module.exports=i})();