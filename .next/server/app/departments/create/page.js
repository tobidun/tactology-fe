(()=>{var e={};e.id=913,e.ids=[913],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4887:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>u,routeModule:()=>m,tree:()=>d});var a=r(3137),n=r(4647),s=r(4183),i=r.n(s),o=r(1775),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=a.AppPageRouteModule,d=["",{children:["departments",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3252)),"/Users/hellosauri/Projects/tactology-fe/app/departments/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6386)),"/Users/hellosauri/Projects/tactology-fe/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1918,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/hellosauri/Projects/tactology-fe/app/departments/create/page.tsx"],p="/departments/create/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new c({definition:{kind:n.x.APP_PAGE,page:"/departments/create/page",pathname:"/departments/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3645:(e,t,r)=>{Promise.resolve().then(r.bind(r,5984))},5984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var a=r(80),n=r(9885),s=r(7114),i=r(8384),o=r(9424),l=r(7052),c=r(3478),d=r(3482),u=r(6303),p=r(2385),x=r(5924),m=r(5325),h=r(2653),g=r(7686),f=r(7271);function y(){let e=(0,s.useRouter)(),[t,r]=(0,n.useState)(""),[y,b]=(0,n.useState)([{name:""}]),[w,{loading:j}]=(0,m.useMutation)(f.VR,{refetchQueries:[{query:f.hf}]}),v=(e,t)=>{let r=[...y];r[e].name=t,b(r)},N=e=>{let t=y.filter((t,r)=>r!==e);b(t)},P=async r=>{r.preventDefault();let a=localStorage.getItem("authToken");if(!a){console.error("User is not authenticated");return}try{let r=await w({variables:{input:{name:t,subDepartments:y}},context:{headers:{Authorization:`Bearer ${a}`}}});console.log(r),r&&e.push("/departments")}catch(e){console.error("Error creating department:",e)}};return(0,a.jsxs)("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 p-8 overflow-hidden relative",children:[a.jsx(h.E.div,{className:"absolute inset-0 z-0",initial:{opacity:0},animate:{opacity:1},transition:{duration:2},children:[...Array(20)].map((e,t)=>a.jsx(h.E.div,{className:"absolute rounded-full bg-white opacity-10",style:{width:100*Math.random()+50,height:100*Math.random()+50,top:`${100*Math.random()}%`,left:`${100*Math.random()}%`},animate:{y:[0,100*Math.random()-50],x:[0,100*Math.random()-50]},transition:{duration:10*Math.random()+10,repeat:1/0,repeatType:"reverse"}},t))}),a.jsx("div",{className:"lg:w-[700px] max-lg:max-w-[700px] mx-auto relative z-10",children:a.jsx(h.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:(0,a.jsxs)(l.Zb,{className:"rounded-3xl shadow-2xl bg-white/10 backdrop-blur-md border border-white/20 overflow-hidden",children:[(0,a.jsxs)(h.E.div,{className:"flex items-center space-x-4 p-6 bg-gradient-to-r from-purple-500 to-pink-500",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},children:[a.jsx(d.Z,{className:"h-10 w-10 text-yellow-300"}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-white",children:"Create New Department"}),a.jsx("p",{className:"text-sm text-white/80",children:"Add a new department to your organization"})]})]}),(0,a.jsxs)("form",{onSubmit:P,children:[(0,a.jsxs)(l.aY,{className:"space-y-6 p-6",children:[(0,a.jsxs)(h.E.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[a.jsx(c._,{htmlFor:"name",className:"text-lg font-semibold text-white",children:"Department Name"}),a.jsx(o.I,{id:"name",placeholder:"e.g., IT Department",value:t,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 bg-white/20 border-2 border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300",required:!0})]}),a.jsx(g.M,{children:y.map((e,t)=>a.jsx(h.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"space-y-4",children:a.jsx("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)(c._,{htmlFor:`subDepartment${t}`,className:"text-lg font-semibold text-white",children:["SubDepartment ",t+1]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(o.I,{id:`subDepartment${t}`,placeholder:`e.g., SubDepartment ${t+1}`,value:e.name,onChange:e=>v(t,e.target.value),className:"w-full px-4 py-3 bg-white/20 border-2 border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300",required:!0}),a.jsx(i.z,{type:"button",onClick:()=>N(t),className:"p-3 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-red-400",children:a.jsx(u.Z,{className:"h-5 w-5"})})]})]})})},t))}),a.jsx(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:(0,a.jsxs)(i.z,{type:"button",onClick:()=>{b([...y,{name:""}])},className:"w-full py-3 bg-yellow-400 text-purple-900 rounded-xl hover:bg-yellow-300 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 flex items-center justify-center space-x-2",children:[a.jsx(p.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Add SubDepartment"})]})})]}),(0,a.jsxs)(l.eW,{className:"flex justify-end space-x-4 p-6 bg-gradient-to-r from-purple-500 to-pink-500",children:[a.jsx(i.z,{type:"button",variant:"outline",onClick:()=>e.back(),className:"px-6 py-3 text-black border-2 border-white/50 rounded-xl hover:bg-white/20 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white",children:"Cancel"}),a.jsx(i.z,{type:"submit",className:"px-6 py-3 bg-yellow-400 text-purple-900 rounded-xl hover:bg-yellow-300 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 flex items-center space-x-2",disabled:j,children:j?a.jsx("div",{className:"animate-spin h-5 w-5 border-4 border-t-4 border-purple-900 rounded-full"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{children:"Create Department"}),a.jsx(x.Z,{className:"h-5 w-5"})]})})]})]})]})})})]})}},3252:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>s,default:()=>l});var a=r(7536);let n=(0,a.createProxy)(String.raw`/Users/hellosauri/Projects/tactology-fe/app/departments/create/page.tsx`),{__esModule:s,$$typeof:i}=n,o=n.default,l=o}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[415,653,785,199,97,384,52,65,271],()=>r(4887));module.exports=a})();