(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{7967:function(e,t,a){Promise.resolve().then(a.bind(a,2643))},2643:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var n=a(7437),r=a(2265),i=a(4033),s=a(3023),o=a(1908),l=a(6110),c=a(9583),d=a(8253),u=a(5367),p=a(9883),h=a(2851),x=a(7221),m=a(4251),f=a(1393),b=a(1350);function y(){let e=(0,i.useRouter)(),[t,a]=(0,r.useState)(""),[y,w]=(0,r.useState)([{name:""}]),[g,{loading:j}]=(0,x.D)(b.VR,{refetchQueries:[{query:b.hf}]}),v=(e,t)=>{let a=[...y];a[e].name=t,w(a)},N=e=>{let t=y.filter((t,a)=>a!==e);w(t)},k=async a=>{a.preventDefault();let n=localStorage.getItem("authToken");if(!n){console.error("User is not authenticated");return}try{let a=await g({variables:{input:{name:t,subDepartments:y}},context:{headers:{Authorization:"Bearer ".concat(n)}}});console.log(a),a&&e.push("/departments")}catch(e){console.error("Error creating department:",e)}};return(0,n.jsxs)("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 p-8 overflow-hidden relative",children:[(0,n.jsx)(m.E.div,{className:"absolute inset-0 z-0",initial:{opacity:0},animate:{opacity:1},transition:{duration:2},children:[...Array(20)].map((e,t)=>(0,n.jsx)(m.E.div,{className:"absolute rounded-full bg-white opacity-10",style:{width:100*Math.random()+50,height:100*Math.random()+50,top:"".concat(100*Math.random(),"%"),left:"".concat(100*Math.random(),"%")},animate:{y:[0,100*Math.random()-50],x:[0,100*Math.random()-50]},transition:{duration:10*Math.random()+10,repeat:1/0,repeatType:"reverse"}},t))}),(0,n.jsx)("div",{className:"lg:w-[700px] max-lg:max-w-[700px] mx-auto relative z-10",children:(0,n.jsx)(m.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:(0,n.jsxs)(l.Zb,{className:"rounded-3xl shadow-2xl bg-white/10 backdrop-blur-md border border-white/20 overflow-hidden",children:[(0,n.jsxs)(m.E.div,{className:"flex items-center space-x-4 p-6 bg-gradient-to-r from-purple-500 to-pink-500",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},children:[(0,n.jsx)(d.Z,{className:"h-10 w-10 text-yellow-300"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-3xl font-bold text-white",children:"Create New Department"}),(0,n.jsx)("p",{className:"text-sm text-white/80",children:"Add a new department to your organization"})]})]}),(0,n.jsxs)("form",{onSubmit:k,children:[(0,n.jsxs)(l.aY,{className:"space-y-6 p-6",children:[(0,n.jsxs)(m.E.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,n.jsx)(c._,{htmlFor:"name",className:"text-lg font-semibold text-white",children:"Department Name"}),(0,n.jsx)(o.I,{id:"name",placeholder:"e.g., IT Department",value:t,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 bg-white/20 border-2 border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300",required:!0})]}),(0,n.jsx)(f.M,{children:y.map((e,t)=>(0,n.jsx)(m.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"space-y-4",children:(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)(c._,{htmlFor:"subDepartment".concat(t),className:"text-lg font-semibold text-white",children:["SubDepartment ",t+1]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(o.I,{id:"subDepartment".concat(t),placeholder:"e.g., SubDepartment ".concat(t+1),value:e.name,onChange:e=>v(t,e.target.value),className:"w-full px-4 py-3 bg-white/20 border-2 border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300",required:!0}),(0,n.jsx)(s.z,{type:"button",onClick:()=>N(t),className:"p-3 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-red-400",children:(0,n.jsx)(u.Z,{className:"h-5 w-5"})})]})]})})},t))}),(0,n.jsx)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:(0,n.jsxs)(s.z,{type:"button",onClick:()=>{w([...y,{name:""}])},className:"w-full py-3 bg-yellow-400 text-purple-900 rounded-xl hover:bg-yellow-300 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 flex items-center justify-center space-x-2",children:[(0,n.jsx)(p.Z,{className:"h-5 w-5"}),(0,n.jsx)("span",{children:"Add SubDepartment"})]})})]}),(0,n.jsxs)(l.eW,{className:"flex justify-end space-x-4 p-6 bg-gradient-to-r from-purple-500 to-pink-500",children:[(0,n.jsx)(s.z,{type:"button",variant:"outline",onClick:()=>e.back(),className:"px-6 py-3 text-black border-2 border-white/50 rounded-xl hover:bg-white/20 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white",children:"Cancel"}),(0,n.jsx)(s.z,{type:"submit",className:"px-6 py-3 bg-yellow-400 text-purple-900 rounded-xl hover:bg-yellow-300 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 flex items-center space-x-2",disabled:j,children:j?(0,n.jsx)("div",{className:"animate-spin h-5 w-5 border-4 border-t-4 border-purple-900 rounded-full"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Create Department"}),(0,n.jsx)(h.Z,{className:"h-5 w-5"})]})})]})]})]})})})]})}}},function(e){e.O(0,[805,912,349,30,971,864,744],function(){return e(e.s=7967)}),_N_E=e.O()}]);